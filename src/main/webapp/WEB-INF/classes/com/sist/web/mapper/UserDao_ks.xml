<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.sist.web.dao.UserDao_ks">

<select id="userList" resultType="com.sist.web.model.User_mj">
        SELECT USER_ID      AS userId,
               USER_NAME    AS userName,
               NICKNAME     AS nickName
          FROM SB_USER
         WHERE USER_STAT = 'Y'
           AND USER_ID != #{userId}
        <if test="searchKeyword != null and searchKeyword != ''">
           AND (
                UPPER(USER_ID) LIKE '%' || UPPER(#{searchKeyword}) || '%' OR
                UPPER(NICKNAME) LIKE '%' || UPPER(#{searchKeyword}) || '%'
               )
        </if>
         ORDER BY USER_ID ASC
    </select>
    
</mapper>