<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.sist.web.dao.RoomTypeDao">

    <resultMap id="roomTypeResultMap" type="com.sist.web.model.RoomType">
        <id column="ROOM_TYPE_SEQ" property="roomTypeSeq" />
        <result column="ROOM_SEQ" property="roomSeq" />
        <result column="ROOM_TYPE_TITLE" property="roomTypeTitle" />
        <result column="ROOM_TYPE_DESC" property="roomTypeDesc" />
        <result column="WEEKDAY_AMT" property="weekdayAmt" />
        <result column="WEEKEND_AMT" property="weekendAmt" />
        <result column="ROOM_CHECK_IN_DT" property="roomCheckInDt" />
        <result column="ROOM_CHECK_OUT_DT" property="roomCheckOutDt" />
        <result column="ROOM_CHECK_IN_TIME" property="roomCheckInTime" />
        <result column="ROOM_CHECK_OUT_TIME" property="roomCheckOutTime" />
        <result column="MAX_GUESTS" property="maxGuests" />
        <result column="MIN_DAY" property="minDay" />
        <result column="MAX_DAY" property="maxDay" />
        <result column="REG_DT" property="regDt" />
        <result column="UPDATE_DT" property="updateDt" />
    </resultMap>
    
  	<insert id="insertRoomType" parameterType="com.sist.web.model.RoomType">
  	
		<selectKey keyProperty="roomTypeSeq" resultType="int" order="BEFORE">
			 SELECT SEQ_ROOM_TYPE_SEQ.NEXTVAL FROM DUAL
		</selectKey>
  		
  	   INSERT INTO ROOM_TYPE (
            ROOM_TYPE_SEQ, ROOM_SEQ, ROOM_TYPE_TITLE, ROOM_TYPE_DESC,
            WEEKDAY_AMT, WEEKEND_AMT, ROOM_CHECK_IN_DT, ROOM_CHECK_OUT_DT,
            ROOM_CHECK_IN_TIME, ROOM_CHECK_OUT_TIME, MAX_GUESTS, MIN_DAY, MAX_DAY,
            REG_DT, UPDATE_DT
        ) VALUES (
            #{roomTypeSeq}, 
            #{roomSeq}, 
            #{roomTypeTitle}, 
            #{roomTypeDesc},
            #{weekdayAmt}, 
            #{weekendAmt}, 
            #{roomCheckInDt}, 
            #{roomCheckOutDt},
            #{roomCheckInTime}, 
            #{roomCheckOutTime}, 
            #{maxGuests}, 
            #{minDay}, 
            #{maxDay},
            SYSDATE, 
            SYSDATE
        )
        
  	</insert>
  	
  	<select id="selectRoomTypesByRoomSeq" parameterType="int" resultMap="roomTypeResultMap">
	    SELECT * 
	    FROM ROOM_TYPE 
	    WHERE ROOM_SEQ = #{roomSeq}
	</select>
</mapper>